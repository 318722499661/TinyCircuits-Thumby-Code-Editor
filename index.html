<!DOCTYPE html>


<html lang="en">


<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Editor</title>
  <style type="text/css" media="screen">

    body{
      background-color: rgb(46, 46, 46);
      margin: 0 auto;
      max-width: 56em;
    }

    @font-face {
      font-family: DIN_MEDIUM;
      src:url("DIN_MEDIUM.ttf");
    }
    @font-face {
      font-family: DIN_REGULAR;
      src:url("DIN_REGULAR.ttf");
    }

    .wrapper {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;

      display: grid;
      /* border-style: solid; */
      /* border-color: red; */
      grid-template-columns: repeat(30, 1fr);
      grid-template-rows: repeat(50, 1fr);
      grid-gap: 10px;
      margin: 5px 5px;
    }
    .logo-img-parent {
      /* border-style: solid; */
      /* border-color: blue; */
      grid-column: 1 / 7;
      grid-row: 1 / 5;
      display: flex;
      align-items: center;
      justify-content: center;
      object-fit: fill;
    }
    .logo-img {
      width: 90%;
      height: 100%;
      display: block;
    }

    .choose-thumby-btn {
      background-color: #2fa9e1;
      border: white 1px solid;
      grid-column: 7 / 11;
      grid-row: 1 / 5;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      font-family: 'DIN_REGULAR';
    }
    .serial-btn:hover {background-color: #2997ca}

    .firmware-btn {
      background-color: #2fa9e1;
      border: white 1px solid;
      grid-column: 11 / 15;
      grid-row: 1 / 5;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      font-family: 'DIN_REGULAR';
    }
    .firmware-btn:hover {background-color: #2997ca}

    .arcade-btn {
      background-color: #2fa9e1;
      border: white 1px solid;
      grid-column: 15 / 19;
      grid-row: 1 / 5;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      font-family: 'DIN_REGULAR';
    }
    .arcade-btn:hover {background-color: #2997ca}



    .onboardfiles-overall {
      border: white 1px solid;
      grid-column: 1 / 7;
      grid-row: 26 / 51;
      display: flex;
      color: white;
      font-family: 'DIN_MEDIUM';
      display: grid;
      grid-template-columns: repeat(20, 1fr);
      grid-template-rows: repeat(23, 1fr);
      vertical-align: middle;
      border-top: none;
    }
    .onboardfiles-header {
      background-color: white;
      grid-column: 1 / 21;
      grid-row: 1 / 3;
      display: flex;
      color: black;
      justify-content: space-around;
      align-items: center;
      font-size: 16px;
    }
    .onboardfiles-area {
      background-color: rgb(20, 20, 20);
      grid-column: 1 / 21;
      grid-row: 3 / 24;
      overflow: auto;
      font-size: 14px;
      text-align: center;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Terminal needs a parent so that grid div is
    filled with the correct color and aligned
    correctly */
    .terminal-style {
      background-color: black;
      border: white 1px solid;
      grid-column: 19 / 31;
      grid-row: 5 / 51;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .overall-editor-space {
      border: white 1px solid;
      grid-column: 7 / 19;
      grid-row: 5 / 51;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .internal-overall-editor-space {
      width: 100%;
      height: 100%;
      display: grid;
      grid-template-columns: repeat(20, 1fr);
      grid-template-rows: repeat(100, 1fr);
    }
    .editor-space {
      border-style: none;
      border-top: 0px solid white;
      border-right: 0px solid white;
      grid-column: 1 / 21;
      grid-row: 6 / 96;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .tabs-parent-space{
      grid-column: 1 / 21;
      grid-row: 1 / 6;
      background-color: black;
      overflow-y: auto;
      display: flex;
      scroll-snap-type: y mandatory;
    }

    .tab-hamburger-hover-area{
      position: relative;
      display: flex;
      width: 47px;
      background-color: #2fa9e1;
      border-bottom: solid white 1px;
      border-right: solid white 2px;
      color: white;
      align-items: center;
      justify-content: center;
      text-align: center;
      word-wrap: break-word;
      margin: 0%;
      padding: 0%;
      overflow: hidden;
      cursor: default;
    }
    .tab-hamburger-hover-area:hover{
      background-color: #2997ca;
    }

    .tab-hamburger-hover-area-dropdown {
      background-color: violet;
      grid-column: 1 / 9;
      grid-row: 2 / 15;
      display: none;
      flex-flow: column nowrap;
      z-index: 6;
      border-left: none;
    }
    
    .tab-hamburger-hover-area-btn{
      display: flex;
      width: 100%;
      flex: 1;
      background-color: #2fa9e1;
      align-items: center;
      word-wrap: break-word;
      border: none;
      border-top: solid white 1px;
      border-left: none;
    }
    .tab-hamburger-hover-area-btn:hover{
      background-color: #2997ca;
    }

    .tabs-parent-space-actual{
      display: flex;
      flex: 1;
      background-color: red;
      grid-column: 1 / 20;
      grid-row: 1 / 2;
      background-color: black;
      overflow-y: auto;
      display: flex;
      scroll-snap-type: y mandatory;
    }
    .tab{
      display: flex;
      flex: 1;
      background-color: #2fa9e1;
      border: 1px solid white;
      border-top: none;
      border-left: none;
      border-bottom: -1px solid white;
      box-sizing: border-box;
      color: white;
      float: left;
      width: auto;
      flex-flow: row nowrap;
      justify-content: space-around;
      height: 100%;
      align-items: center;
      justify-items: center;
      word-wrap: break-word;
      margin: 0%;
      padding: 0%;
      text-align: left;
      vertical-align: middle;
    }
    .tab-main-btn{
      display: flex;
      border-style: solid;
      border-color: #2fa9e100;
      flex: 1;
      background-color: #2fa9e1;
      color: black;
      float: left;
      cursor: pointer;
      height: 100%;
      align-items: center;
      font-family: 'DIN_REGULAR';
      margin-right: 0px;
      padding-left: 8px;
      padding-right: 8px;
      padding-bottom: 0;
      margin-bottom: 0;
      font-size: 14px;
      font-family: "DIN_MEDIUM";
    }
    .tab-main-btn:hover {background-color: #2997ca}
    .tab-exit-btn{
      display: flex;
      border-style: solid;
      border-color: #2fa9e100;
      background-color: #2fa9e1;
      color: white;
      float: left;
      cursor: pointer;
      height: 85%;
      align-items: center;
      font-family: 'DIN_REGULAR';
      margin-right: 5px;
      padding-left: 10px;
      padding-right: 10px;
      padding-bottom: 0;
      margin-bottom: 0;
    }
    .tab-exit-btn:hover {background-color: #2997ca}
    .tab-add-btn{
      display: flex;
      border: white solid 1px;
      background-color: #2fa9e1;
      color: white;
      float: left;
      cursor: pointer;
      height: 85%;
      align-items: center;
      font-family: 'DIN_REGULAR';
      margin-right: 5px;
      padding-left: 10px;
      padding-right: 10px;
      padding-bottom: 0;
      margin-bottom: 0;
    }
    .tab-add-btn:hover {background-color: #2997ca}
    /* Scrollbar style */
    ::-webkit-scrollbar{
        height: 8px;
        width: 8px;
    }
    ::-webkit-scrollbar-thumb:horizontal{
        background: gray;
    }
    ::-webkit-scrollbar-thumb:vertical{
        background: gray;
    }
    ::-webkit-scrollbar-track {
      background: white;
    }

    .arcade-overlay {
      margin:auto;
      position: fixed;
      display: none;
      width: 95%;
      height: 95%;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0,0,0,0.85);
      z-index: 4;
      cursor: pointer;
      border: rgb(0, 121, 52) 1px solid;
      grid-template-columns: repeat(35, 1fr);
      grid-template-rows: repeat(20, 1fr);
    }
    .arcade-overlay-exit-btn{
      background-color: rgb(247, 142, 32);
      border: rgb(0, 121, 52) 1px solid;
      grid-column: 35 / 36;
      grid-row: 1 / 2;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      font-family: 'DIN_REGULAR';
    }
    .arcade-overlay-exit-btn:hover {background-color: rgb(214, 125, 29)}

    .arcade-overlay-game-area-wrapper{
      background-color: rgb(71, 71, 71);
      grid-column: 2 / 35;
      grid-row: 2 / 20;
      display: flex;
    }

    .fs-rc-menu-parent {
      position: absolute;
      background-color: violet;
      display: none;
      flex-flow: column nowrap;
      z-index: 6;
      border: solid white 1px;
      height: 125px;
      width: 100px;
    }
    .fs-rc-menu-btn{
      display: flex;
      width: 100%;
      flex: 1;
      background-color: #2fa9e1;
      align-items: center;
      word-wrap: break-word;
      border: none;
      border-top: solid white 1px;
      text-align: center;
      justify-content: center;
      padding: 5px;
    }
    .fs-rc-menu-btn:hover{
      background-color: #2997ca;
    }


    .tools-overall {
      border: white 2px solid;
      grid-column: 1 / 7;
      grid-row: 5 / 26;
      color: white;
      font-family: 'DIN_MEDIUM';
      display: grid;
      grid-template-columns: repeat(20, 1fr);
      grid-template-rows: repeat(200, 1fr);
      vertical-align: middle;
      border-top: none;
    }
    .tools-tabsarea {
      background-color: white;
      grid-column: 1 / 21;
      grid-row: 1 / 21;
      display: flex;
      color: black;
      justify-content: space-around;
      align-items: center;
      font-size: 20px;
      overflow: hidden;
      overflow-x: auto;
      border-top: none;
      border-bottom: none;
    }
    .tools-renderarea {
      background-color: rgb(0, 0, 0);
      grid-column: 1 / 21;
      grid-row: 21 / 202;
      display: flex;
      flex-direction: column;
      overflow: none;
      font-size: 15px;
    }
    .tools-tab{
      background-color: #2fa9e1;
      float: 0.33;
      height: 100%;
      width: 100%;
      border: none;
      font-family: 'DIN_MEDIUM';
      font-size: 15px;
      border-bottom: solid white 3px;
      border-left: solid white 1px;
      border-right: solid white 1px;
    }
    .tools-tab:hover{
      background-color: #2997ca;
    }
    .tools-header {
      background-color: white;
      grid-column: 1 / 21;
      grid-row: 1 / 3;
      display: flex;
      color: black;
      justify-content: space-around;
      align-items: center;
      font-size: 16px;
    }


    .bitmapbuilder-tool-area{
      background: #2fa9e1;
      flex: 0.225;
      border-top: gray 1px solid;
      display: flex;
      flex-direction: row;
    }

    .bitmapbuilder-tool-dimension-area{
      background-color: green;
      flex: 0.333333;
      flex-direction: column;
      display: flex;
    }
    .bitmapbuilder-tool-direct-dimension-parent{
      background-color: #2fa9e1;
      flex: 0.5;
      border: solid 1px lightgray;
      font-family: 'DIN_MEDIUM';
      font-size: 13px;
    }

    
    .bitmapbuilder-tool-modify-btn-area{
      background-color: orangered;
      flex: 0.333333;
      flex-direction: column;
      display: flex;
    }
    .bitmapbuilder-btns{
      background-color: #2fa9e1;
      flex: 0.5;
      border: solid 1px lightgray;
      font-family: 'DIN_MEDIUM';
      font-size: 13px;
    }
    .bitmapbuilder-btns:hover{
      background-color: #2997ca;
    }

    .bitmapbuilder-tool-hor-parent{
      background-color: #2fa9e1;
      flex: 0.5;
      display: flex;
      flex-direction: row;
      font-family: 'DIN_MEDIUM';
    }
    .bitmapbuilder-tool-import-export-btn-area{
      background-color: violet;
      flex: 0.333333;
      flex-direction: column;
      display: flex;
    }


    .bitmapbuilder-grid-area{
      background: #333;
      flex: 0.775;
      overflow: scroll;
      display: flex;
    }
    .bitmapbuilder-grid {
      width: auto;
      height: auto;
      margin: auto;
      padding: 4px;
      border: 1px dashed rgb(150, 150, 150);
    }
    td {
      border-collapse: collapse;
      border-spacing: 0;
      border: none;
      width: 28px;
      height: 28px;
      min-width: 28px;
      min-height: 28px;
    }

    .links-overall {
      background-color: #333;
      border: white 1px solid;
      grid-column: 19 / 31;
      grid-row: 1 / 5;
      display: flex;
    }
    .link-child{
      background-color: rgb(27, 27, 27);
      color: white;
      border: 1px solid gray;
      flex: 0.25;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .link{
      color: rgb(177, 177, 177);
      font-family: 'DIN_MEDIUM';
      font-size: 15px;
    }


    /* .editor-toolbar-space {
      border: white 1px solid;
      background-color: blue;
      grid-column: 1 / 21;
      grid-row: 96 / 102;
      display: flex;
    } */
    .editor-toolbar-btn {
      border-collapse: collapse;
      border-spacing: 0;
      background-color: black;
      color: white;
      border: none;
      border: white 1px solid;
      font-family: 'DIN_MEDIUM';
      font-size: 15px;
    }
    .editor-toolbar-btn:hover {
      background-color: gray;
    }
    .editor-toolbar-btn:disabled {
        opacity: 0.3;
    }
    .editor-toolbar-btn-upload-execute{
      grid-column: 1 / 7;
      grid-row: 96 / 102;
    }
    .editor-toolbar-btn-upload{
      grid-column: 7 / 11;
      grid-row: 96 / 102;
    }
    .editor-toolbar-btn-execute{
      grid-column: 11 / 15;
      grid-row: 96 / 102;
    }
    .editor-toolbar-btn-zoom-plus{
      grid-column: 15 / 18;
      grid-row: 96 / 102;
    }
    .editor-toolbar-btn-zoom-minus{
      grid-column: 18 / 23;
      grid-row: 96 / 102;
    }

  </style>

  <link rel="stylesheet" href="node_modules/xterm/css/xterm.css" />
</head>


<body>

  <div class="wrapper">
    <div class="logo-img-parent">
      <img class="logo-img"src="thumby_logo.png" alt="Thumby Logo">
    </div>
    <button id="choosethumbybtn" class="choose-thumby-btn" onclick="buttonClickHandler(this)">Choose Thumby</button>
    <button class="firmware-btn" onclick="buttonClickHandler(this)">Download Firmware</button>
    <button class="arcade-btn" onclick="buttonClickHandler(this)">Arcade</button>
    
    <div id="toolsoverall" class="tools-overall">
      <div id="toolstabsarea" class="tools-tabsarea">
        <!-- <button id="capturetab" class="tools-tab">Capture</button> -->
        <!-- <button id="capturetab" class="tools-tab">Bitmap Builder</button> -->
        <!-- <button id="capturetab" class="tools-tab">Emulator</button> -->
        <div id="bitmapbuilderparent" class="tools-header">Bitmap Builder</div>
      </div>
      <div id="toolsrenderarea" class="tools-renderarea">
        <!-- NOTE: Bitmap build grid refers to global function for resetting mouse if mouse exists grid area (otherwise keeps drawing once mouse comes back in!) -->
        <div id="bitmapbuildergridarea" class="bitmapbuilder-grid-area" onmousemove="BITMAPPER.checkCursorInside(event, this.firstChild, 'bitmapbuildergrid')">
          <table id="bitmapbuildergrid" class="bitmapbuilder-grid">
            <!-- bitmap_builder.js inserts stuff here-->
          </table>
        </div>
        <div id="bitmapbuildertoolarea" class="bitmapbuilder-tool-area">
          <div id="bitmapbuildertooldimensionarea" class="bitmapbuilder-tool-dimension-area">

            <div class="bitmapbuilder-tool-hor-parent">
              <div style="flex: 0.5;padding-top: 2px;">
                <label for="bitmapperwidth" style="float: left;color:black;font-size: 14px;margin-left: 5px;">Width: </label>
                <label for="bitmapperheight" style="float: left;color:black;font-size: 14px;margin-left: 5px;">Height: </label>
              </div>
              <div style="flex: 0.5;align-items: center;">
                <input style="font-size: 11px;width: 80%;" type="number" min="1" max="72" id="bitmapperwidth" value=8 oninput="(!validity.rangeOverflow||(value=72)) && (!validity.rangeUnderflow||(value=1)) && (!validity.stepMismatch||(value=parseInt(this.value)));">
                <input style="font-size: 11px;width: 80%;" type="number" min="1" max="40" id="bitmapperheight" value=8 oninput="(!validity.rangeOverflow||(value=40)) && (!validity.rangeUnderflow||(value=1)) && (!validity.stepMismatch||(value=parseInt(this.value)));">
              </div>
            </div>

            <button class="bitmapbuilder-btns" onclick="handleBitmapBuilderClicks(0)">Apply Size</button>
          </div>
          <div id="bitmapbuildertoolmodifybtn" class="bitmapbuilder-tool-modify-btn-area">
            <div class="bitmapbuilder-tool-hor-parent">
              <button class="bitmapbuilder-btns" onclick="handleBitmapBuilderClicks(1)">Z+</button>
              <button class="bitmapbuilder-btns" onclick="handleBitmapBuilderClicks(2)">Z-</button>
            </div>
            
            <div class="bitmapbuilder-tool-hor-parent">
              <button class="bitmapbuilder-btns" onclick="handleBitmapBuilderClicks(3)">Invert</button>
              <button class="bitmapbuilder-btns" onclick="handleBitmapBuilderClicks(4)">Clear</button>
            </div>
          </div>
          <div id="bitmapbuildertoolimportexportbtnarea" class="bitmapbuilder-tool-import-export-btn-area">
            <button class="bitmapbuilder-btns" onclick="handleBitmapBuilderClicks(5)">Import lines &larr;</button>
            <button class="bitmapbuilder-btns" onclick="handleBitmapBuilderClicks(6)">Export to lines &rarr;</button>
          </div>
        </div>
      </div>
    </div>

    <div id="onboardfilesoverall" class="onboardfiles-overall">
      <div id="onboardfilesheader" class="onboardfiles-header">Thumby Filesystem View</div>
      <div id="onboardfilesarea" class="onboardfiles-area">Waiting for Thumby connection...</div>
    </div>

    <div id="overalleditorspace" class="overall-editor-space">
      <div id="internaloveralleditorspace" class="internal-overall-editor-space">
        <div id="tabparentspace" class="tabs-parent-space">
          <div id="tabhamburgerhoverarea" class="tab-hamburger-hover-area" onmouseover="hamburgerDropdownVisibility(0)" onmouseout="hamburgerDropdownVisibility(1)">=</div>
          <div id="tabparentspaceactual" class="tabs-parent-space-actual">
            <!-- Tabs are placed here by JS -->
          </div>
        </div>

      <div id="editor" class="editor-space"></div>
        <div id="tabhamburgerhoverareadropdown" class="tab-hamburger-hover-area-dropdown" onmouseover="hamburgerDropdownVisibility(0)" onmouseout="hamburgerDropdownVisibility(1)">
          <button class="tab-hamburger-hover-area-btn" onclick="handleHamburgerFileButtons(this, 0)">Open File (from PC) [CTRL-O]</button>
          <button class="tab-hamburger-hover-area-btn" onclick="handleHamburgerFileButtons(this, 1)">Save Current File (to PC) [CTRL-S]</button>
          <button class="tab-hamburger-hover-area-btn" onclick="handleHamburgerFileButtons(this, 2)">Save Current File As (to PC) [CTRL-ALT-S]</button>
        </div>

        <button id="uploadexecutebtn" onclick="handleEditorToolbarButtons(0)" class="editor-toolbar-btn editor-toolbar-btn-upload-execute" disabled=true>&#10162;&#x21bb; Upload & Execute</button>
        <button id="uploadbtn" onclick="handleEditorToolbarButtons(1)" class="editor-toolbar-btn editor-toolbar-btn-upload" disabled=true>&#10162; Upload</button>
        <button id="executebtn" onclick="handleEditorToolbarButtons(2)" class="editor-toolbar-btn editor-toolbar-btn-execute" disabled=true>&#x21bb; Execute</button>
        <button onclick="handleEditorToolbarButtons(3)" class="editor-toolbar-btn editor-toolbar-btn-zoom-plus">Z+</button>
        <button onclick="handleEditorToolbarButtons(4)" class="editor-toolbar-btn editor-toolbar-btn-zoom-minus">Z-</button>
      </div>
    </div>


    <div id="terminal" class="terminal-style"></div>
    <div id="overlay" class="arcade-overlay">
      <button class="arcade-overlay-exit-btn" onclick="buttonClickHandler(this)">-</button>
      <div id="overlay-game-area-wrapper" class="arcade-overlay-game-area-wrapper">
        
      </div>
    </div>

    <div id="fsrcmenuparent" class="fs-rc-menu-parent" onmouseover="fileMenuVisibility(0)" onmouseout="fileMenuVisibility(1)">
      <button class="fs-rc-menu-btn" onclick="handleFileMenuButtons(this, 6)">Delete</button>
      <button class="fs-rc-menu-btn" onclick="handleFileMenuButtons(this, 5)">Open</button>
      <!-- <button class="fs-rc-menu-btn" onclick="handleFileMenuButtons(this, 4)">New Folder</button> -->
      <!-- <button class="fs-rc-menu-btn" onclick="handleFileMenuButtons(this, 3)">Paste</button>
      <button class="fs-rc-menu-btn" onclick="handleFileMenuButtons(this, 2)">Cut</button>
      <button class="fs-rc-menu-btn" onclick="handleFileMenuButtons(this, 1)">Copy</button> -->
      <button class="fs-rc-menu-btn" onclick="handleFileMenuButtons(this, 0)">Rename</button>
    </div>

    <div class="links-overall">
      <div class="link-child"> <a target="_blank" href="" class="link" >Game Tutorial</a> </div>
      <div class="link-child"> <a target="_blank" href="" class="link">Thumby GitHub</a> </div>
      <div class="link-child"> <a target="_blank" href="http://forum.tinycircuits.com/" class="link">Forums</a> </div>
      <div class="link-child"> <a target="_blank" href="https://tinycircuits.com/pages/contact-us" class="link">Contact Us</a> </div>
    </div>

  </div>


  <script src="src/ace-builds/src/ace.js" type="text/javascript" charset="utf-8"></script>
  <script src="node_modules/xterm-addon-fit/lib/xterm-addon-fit.js"></script>
  <script src="node_modules/xterm/lib/xterm.js"></script>
  <script src="src/rp2040_repl.js"></script>
  <script src="src/active_terminal_wrapper.js"></script>
  <script src="src/treejs/tree.js"></script>
  <link rel="stylesheet" href="src/treejs/treejs.css" />
  <script src="src/filesystem_wrapper.js"></script>
  <script src="src/editor_wrapper.js"></script>
  <script src="src/bitmap_builder.js"></script>
  <script src="src/main.js" type="text/javascript" charset="utf-8"></script>
</body>


</html>